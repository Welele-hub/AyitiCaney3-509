# ğŸ  AyitiCaney - Professional House Rental Platform for Haiti

A Django-based rental platform connecting property owners (propriÃ©taires) and renters (locataires) across all 10 departments of Haiti. Built with trust, transparency, and direct communication in mind.

## ğŸ¯ Key Features

### For Users (Locataires)
- âœ… Browse properties across all Haiti departments
- âœ… Advanced search and filtering
- âœ… Save favorite properties (Wishlist)
- âœ… Direct messaging with property owners
- âœ… WhatsApp integration
- âœ… Bilingual interface (English/French)

### For Property Owners (PropriÃ©taires)
- âœ… Free property listings
- âœ… Upload multiple property images
- âœ… Manage listings dashboard
- âœ… Direct communication with interested renters
- âœ… Verified owner badge system
- âœ… View analytics (views, saves, conversations)

### For Administrators
- âœ… Comprehensive admin panel
- âœ… Property approval system
- âœ… User moderation and suspension
- âœ… Conversation monitoring (read-only)
- âœ… Report management
- âœ… Site settings configuration

## ğŸš€ Technology Stack

- **Backend**: Django 4.2+
- **Database**: PostgreSQL (or SQLite for development)
- **Frontend**: Bootstrap 5, HTML5, CSS3, JavaScript
- **Icons**: Bootstrap Icons
- **Language**: Python 3.10+

## ğŸ“¦ Installation & Setup

### 1. Prerequisites

```bash
# Install Python 3.10+
python --version

# Install PostgreSQL (optional, can use SQLite for dev)
sudo apt-get install postgresql postgresql-contrib
```

### 2. Clone or Create Project

```bash
# Create Django project
django-admin startproject ayiticaney_project
cd ayiticaney_project

# Create the rental app
python manage.py startapp rental
```

### 3. Install Dependencies

```bash
# Create virtual environment
python -m venv venv

# Activate virtual environment
# On Linux/Mac:
source venv/bin/activate
# On Windows:
venv\Scripts\activate

# Install Django and dependencies
pip install django pillow psycopg2-binary

# Create requirements.txt
pip freeze > requirements.txt
```

### 4. Project Structure

```
ayiticaney_project/
â”œâ”€â”€ rental/
â”‚   â”œâ”€â”€ migrations/
â”‚   â”œâ”€â”€ management/
â”‚   â”‚   â””â”€â”€ commands/
â”‚   â”‚       â””â”€â”€ populate_haiti_locations.py
â”‚   â”œâ”€â”€ templates/
â”‚   â”‚   â””â”€â”€ rental/
â”‚   â”‚       â”œâ”€â”€ base.html
â”‚   â”‚       â”œâ”€â”€ home.html
â”‚   â”‚       â”œâ”€â”€ search_properties.html
â”‚   â”‚       â”œâ”€â”€ property_detail.html
â”‚   â”‚       â”œâ”€â”€ register.html
â”‚   â”‚       â”œâ”€â”€ login.html
â”‚   â”‚       â””â”€â”€ ... (other templates)
â”‚   â”œâ”€â”€ static/
â”‚   â”‚   â””â”€â”€ rental/
â”‚   â”‚       â”œâ”€â”€ css/
â”‚   â”‚       â”œâ”€â”€ js/
â”‚   â”‚       â””â”€â”€ images/
â”‚   â”œâ”€â”€ models.py
â”‚   â”œâ”€â”€ admin.py
â”‚   â”œâ”€â”€ views.py
â”‚   â”œâ”€â”€ forms.py
â”‚   â”œâ”€â”€ urls.py
â”‚   â””â”€â”€ apps.py
â”œâ”€â”€ media/
â”‚   â”œâ”€â”€ profiles/
â”‚   â””â”€â”€ properties/
â”œâ”€â”€ static/
â”œâ”€â”€ templates/
â”œâ”€â”€ logs/
â”œâ”€â”€ manage.py
â”œâ”€â”€ requirements.txt
â””â”€â”€ settings.py
```

### 5. Configure Settings

Update `settings.py` with the provided configuration, especially:

```python
# Add to INSTALLED_APPS
INSTALLED_APPS = [
    # ...
    'rental',
]

# Set custom user model
AUTH_USER_MODEL = 'rental.User'

# Configure database
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql',
        'NAME': 'ayiticaney_db',
        'USER': 'your_username',
        'PASSWORD': 'your_password',
        'HOST': 'localhost',
        'PORT': '5432',
    }
}

# Media files
MEDIA_URL = '/media/'
MEDIA_ROOT = BASE_DIR / 'media'
```

### 6. Configure URLs

**Main `urls.py`:**

```python
from django.contrib import admin
from django.urls import path, include
from django.conf import settings
from django.conf.urls.static import static

urlpatterns = [
    path('admin/', admin.site.urls),
    path('', include('rental.urls')),
]

if settings.DEBUG:
    urlpatterns += static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)
```

### 7. Run Migrations

```bash
# Make migrations
python manage.py makemigrations

# Apply migrations
python manage.py migrate
```

### 8. Create Superuser

```bash
python manage.py createsuperuser
```

### 9. Populate Haiti Locations

```bash
# Run the management command
python manage.py populate_haiti_locations
```

This will create:
- 10 Departments of Haiti
- 100+ Cities and communes

### 10. Collect Static Files (Production)

```bash
python manage.py collectstatic
```

### 11. Run Development Server

```bash
python manage.py runserver
```

Visit: `http://127.0.0.1:8000`

## ğŸ“ Creating Sample Data

### Create Sample Users via Admin

1. Go to `http://127.0.0.1:8000/admin`
2. Login with superuser credentials
3. Create users with both account types:
   - Locataires (Renters)
   - PropriÃ©taires (Owners)

### Create Sample Properties

1. Login as a PropriÃ©taire
2. Go to "List Property"
3. Fill in property details
4. Upload images
5. Submit for approval

### Admin Approval

1. Login to admin panel
2. Go to Properties
3. Select properties
4. Use action: "Approve selected properties"

## ğŸŒ Deployment (Production)

### Using Gunicorn + Nginx

```bash
# Install Gunicorn
pip install gunicorn

# Create Gunicorn systemd service
sudo nano /etc/systemd/system/gunicorn.service
```

**gunicorn.service:**

```ini
[Unit]
Description=gunicorn daemon for AyitiCaney
After=network.target

[Service]
User=www-data
Group=www-data
WorkingDirectory=/path/to/ayiticaney_project
ExecStart=/path/to/venv/bin/gunicorn --workers 3 --bind unix:/run/gunicorn.sock ayiticaney_project.wsgi:application

[Install]
WantedBy=multi-user.target
```

**Nginx Configuration:**

```nginx
server {
    listen 80;
    server_name ayiticaney.ht www.ayiticaney.ht;

    location = /favicon.ico { access_log off; log_not_found off; }
    
    location /static/ {
        alias /path/to/ayiticaney_project/staticfiles/;
    }
    
    location /media/ {
        alias /path/to/ayiticaney_project/media/;
    }

    location / {
        proxy_pass http://unix:/run/gunicorn.sock;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

### Environment Variables (Production)

Create `.env` file:

```env
SECRET_KEY=your-production-secret-key
DEBUG=False
ALLOWED_HOSTS=ayiticaney.ht,www.ayiticaney.ht
DATABASE_URL=postgresql://user:password@localhost/ayiticaney_db
EMAIL_HOST_USER=your-email@domain.com
EMAIL_HOST_PASSWORD=your-email-password
```

## ğŸ”’ Security Checklist

- [ ] Change `SECRET_KEY` in production
- [ ] Set `DEBUG = False`
- [ ] Configure `ALLOWED_HOSTS`
- [ ] Enable HTTPS/SSL
- [ ] Set up CSRF protection
- [ ] Configure secure cookies
- [ ] Set up backup system
- [ ] Enable logging
- [ ] Configure firewall
- [ ] Set up regular updates

## ğŸ“± Mobile Responsiveness

The platform is fully responsive and works on:
- âœ… Desktop (1920px+)
- âœ… Laptop (1366px - 1920px)
- âœ… Tablet (768px - 1366px)
- âœ… Mobile (320px - 768px)

## ğŸŒ Internationalization

The platform supports:
- ğŸ‡ºğŸ‡¸ English
- ğŸ‡«ğŸ‡· French (Default)

To add translations:

```bash
# Create message files
python manage.py makemessages -l fr

# Compile messages
python manage.py compilemessages
```

## ğŸ› Troubleshooting

### Issue: Cities not loading dynamically

**Solution:** Ensure jQuery is loaded before your custom scripts and CSRF token is properly configured.

### Issue: Images not displaying

**Solution:** Check `MEDIA_ROOT` and `MEDIA_URL` settings, ensure media URL is configured in main `urls.py`.

### Issue: Email not sending

**Solution:** For development, use console backend:
```python
EMAIL_BACKEND = 'django.core.mail.backends.console.EmailBackend'
```

## ğŸ“Š Admin Panel Features

Access at: `http://yourdomain.com/admin`

### Dashboard Sections:
1. **Users Management**
   - View all users (locataires & propriÃ©taires)
   - Suspend/verify accounts
   - View user activity

2. **Property Management**
   - Approve/reject listings
   - Edit property details
   - View reports

3. **Messaging System**
   - Monitor conversations (read-only)
   - Moderate inappropriate content

4. **Reports**
   - Review property reports
   - Take action on violations

5. **Site Settings**
   - Update disclaimers
   - Manage contact information
   - Enable/disable features

## ğŸ¤ Contributing

Contributions are welcome! Please:
1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Submit a pull request

## ğŸ“„ License

This project is proprietary software for AyitiCaney.

## ğŸ“ Support

For support or questions:
- Email: contact@ayiticaney.ht
- Phone: +509 XXXX XXXX

## ğŸ‰ Credits

Built with â¤ï¸ for Haiti by the AyitiCaney Team

---

**Important Legal Disclaimer:**

> AyitiCaney is a connection platform. No online payments are made on this website. All agreements are done directly between owner and user. We do not guarantee the accuracy of listings or the behavior of users.

---

## ğŸš€ Quick Start Commands

```bash
# Initial setup
python manage.py migrate
python manage.py createsuperuser
python manage.py populate_haiti_locations

# Run server
python manage.py runserver

# Access admin
http://127.0.0.1:8000/admin

# Access site
http://127.0.0.1:8000
```

Good luck with AyitiCaney! ğŸ ğŸ‡­ğŸ‡¹
